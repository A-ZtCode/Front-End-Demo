<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Latest compiled and minified CSS -->
        <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">

        <!-- Latest compiled JavaScript -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
    </head>
    <body>
        <script>
            function loadUsers() {
                // here we use fetch api to consume an endpoint
                // fecth makes an asynchronous call to the backend endpoint
                // then function makes sure thart the code in it is executed after the asynchronous call.
                fetch('https://jsonplaceholder.typicode.com/users')
                .then((response)=>{
                    console.log(response);
                    console.log("---------------------------")
                return response.json();
            })
                .then((data)=>{
                    console.log(data);;
                    //if we can see the data in the console fetched from the backend, next we can display this data on the page

                    content = `<table class="table table-striped">
                                    <thread class="bg=dark text-light">
                                        <th>ID</th>
                                        <th>NAME</th>
                                        <th>USER NAME</th>
                                        <th>PHONE</th>
                                        <th>CITY</th>
                                    </thread> 
                                </tbody> `;
                    
                    for(let eachData of data) {
                        content += `<tr>
                                        <td>${eachData.id}</td>
                                        <td>${eachData.name}</td>
                                        <td>${eachData.username}</td>
                                        <td>${eachData.phone}</td>
                                        <td>${eachData.address.city}</td>
                                    </tr>`
                    }
                    content += `</tbody></table>`;
                    document.getElementById("display").innerHTML = content; // here we are using JS to manupulate the DOM
                                                                            // we are saying the innerHtml of the element with id display should be content
                });
            }
            loadUsers();
        </script>
        <h1 class="m-5"> LIST OF USERS </h1>
        <div class="container" id="display">
            <!-- Using JS we will -->>
        </div>
    </body>
</html>
